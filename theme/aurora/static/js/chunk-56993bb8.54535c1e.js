(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56993bb8"],{"00b8":function(t,a,s){"use strict";s("427e")},"05aa":function(t,a,s){},"0a1e":function(t,a,s){"use strict";s.d(a,"b",(function(){return r})),s.d(a,"a",(function(){return n}));var e=s("54d7"),i=s("8c8a");function r(){return Object(i["a"])({url:e["m"]+"/api/v1/user/notice/fetch",method:"get"})}function n(){return Object(i["a"])({url:e["m"]+"/api/v1/user/getStat",method:"get"})}},"12a6":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"dashboard-container"},[s("div",{staticClass:"overview-box"},[t.isVIP?s("a-row",{attrs:{gutter:[20,20]}},[s("a-col",{attrs:{md:12,xl:6}},[s("div",{staticClass:"item use-shadow",on:{click:t.onBuySubs}},[s("div",{staticClass:"icon"},[s("svg-icon",{attrs:{name:"calendar-check"}})],1),s("div",{staticClass:"right"},[t.comboType===t.ComboEnum.PERIOD?[s("div",{staticClass:"tit"},[t._v(t._s(t._f("date")(t.expiredDate)))]),s("div",{staticClass:"exp"},[t.expiredResidue>0?s("span",[t._v(t._s(t.$t("到期时间")))]):s("span",{staticStyle:{color:"#ff4200"}},[t._v(t._s(t.$t("已过期")))])])]:t.comboType===t.ComboEnum.ONE_TIME?[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("无")))]),s("div",{staticClass:"exp"},[s("span",[t._v(t._s(t.$t("到期时间")))])])]:t.comboType===t.ComboEnum.UNBUY?[s("div",{staticClass:"exp"},[s("span",[t._v(t._s(t.$t("未购买订阅")))])])]:t._e()],2),s("a-icon",{staticClass:"arrow",attrs:{type:"right"}})],1)]),s("a-col",{attrs:{md:12,xl:6}},[s("div",{staticClass:"item use-shadow",on:{click:function(a){return t.$router.push("/stage/invite")}}},[s("div",{staticClass:"icon"},[s("svg-icon",{attrs:{name:"currency-jpy"}})],1),s("div",{staticClass:"right"},[s("div",{staticClass:"tit"},[t._v(t._s(t._f("amount")(t.userInfo.balance)))]),s("div",{staticClass:"exp"},[t._v(t._s(t.$t("帐户余额")))])]),s("a-icon",{staticClass:"arrow",attrs:{type:"right"}})],1)]),s("a-col",{attrs:{md:12,xl:6}},[s("div",{staticClass:"item use-shadow",on:{click:function(a){return t.$router.push("/stage/mysubs")}}},[s("div",{staticClass:"icon"},[s("svg-icon",{attrs:{name:"chart-bar"}})],1),s("div",{staticClass:"right"},[t.comboType===t.ComboEnum.PERIOD?[t.expiredResidue>0?s("div",{staticClass:"tit"},[t._v(t._s(t._f("flow")(t.leftFlow)))]):s("div",{staticClass:"tit"},[t._v(t._s(t.$t("无")))])]:t._e(),t.comboType===t.ComboEnum.ONE_TIME?[s("div",{staticClass:"tit"},[t._v(t._s(t._f("flow")(t.leftFlow)))])]:t._e(),t.comboType===t.ComboEnum.UNBUY?[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("无")))])]:t._e(),s("div",{staticClass:"exp"},[t._v(t._s(t.$t("剩余流量")))])],2),s("a-icon",{staticClass:"arrow",attrs:{type:"right"}})],1)]),s("a-col",{attrs:{md:12,xl:6}},[s("div",{staticClass:"item use-shadow",on:{click:function(a){return t.$router.push("/stage/ticket")}}},[s("div",{staticClass:"icon"},[s("svg-icon",{attrs:{name:"alarm"}})],1),s("div",{staticClass:"right"},[s("div",{staticClass:"tit"},[t._v(t._s(t.workOrders)+" "+t._s(t.$t("条")))]),s("div",{staticClass:"exp"},[t._v(t._s(t.$t("待办工单")))])]),s("a-icon",{staticClass:"arrow",attrs:{type:"right"}})],1)])],1):s("div",{staticClass:"spin-loading"},[s("a-spin",{attrs:{size:"large"}})],1)],1),s("subscribe-info",{attrs:{reverse:""},on:{change:t.onSubscribeChange}}),s("div",{staticClass:"panel-box"},[s("div",{staticClass:"panel-header"},[s("span",{staticClass:"tit"},[t._v(t._s(t.$t("流量明细")))])]),s("div",{staticClass:"panel-body flow-box use-shadow",staticStyle:{padding:"0"}},[t.chartData?s("div",[t.chartData.length>0?s("div",{ref:"refChart",staticClass:"chart-box"}):s("div",{staticClass:"no-data"},[s("a-empty",{attrs:{image:t.simpleImage,description:t.$t("暂无数据")}})],1)]):s("div",{staticClass:"spin-loading"},[s("a-spin",{attrs:{size:"large"}})],1)])]),s("transition",{attrs:{name:"slide-fade"}},[s("a-alert",{directives:[{name:"show",rawName:"v-show",value:t.showTip,expression:"showTip"}],staticClass:"unpay-tip",attrs:{type:"warning",banner:"",closable:""}},[s("div",{staticClass:"cont",attrs:{slot:"message"},slot:"message"},[t._v(" "+t._s(t.$t("检测到还有没支付的订单"))+", "),s("router-link",{staticClass:"link",attrs:{to:"/stage/order"}},[t._v(t._s(t.$t("立即支付")))])],1)])],1)],1)},i=[],r=s("c7eb"),n=s("1da1"),o=s("5530"),c=(s("14d9"),s("b0c0"),s("a15b"),s("d81d"),s("fc25")),u=s("22b4"),l=s("1be7"),d=s("3620"),p=s("9394"),b=s("2da7"),v=s("4b2a"),m=s("5e81"),f=s("e600"),h=s("ee29"),C=s("c55a"),w=s("f95e"),_=s("0a1e"),g=s("1f51"),y=s("004a"),x=s("f4e7"),$=s("5a0c"),O=s.n($),k=s("f248"),E=s.n(k),I=s("2f62");u["a"]([p["a"],b["a"],v["a"],m["a"],f["a"],d["a"],h["a"],C["a"],w["a"]]);var T={name:"Dashboard",components:{SubscribeInfo:x["a"]},data:function(){return{chartData:null,workOrders:0,expiredDate:"",expiredResidue:null,comboType:null,leftFlow:"",planId:"",simpleImage:"",showTip:!1,ComboEnum:y["a"]}},computed:Object(o["a"])(Object(o["a"])({},Object(I["b"])("auth",["userInfo"])),{},{isVIP:function(){return!0}}),created:function(){this.simpleImage=c["a"].PRESENTED_IMAGE_SIMPLE},mounted:function(){this.initFlowChart(),this.initMySubscribe()},methods:{initMySubscribe:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function a(){var s,e,i;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(_["a"])();case 2:e=a.sent,t.workOrders=null!==(s=e.data[1])&&void 0!==s?s:0,i=Boolean(e.data[0]),i&&(t.showTip=!0);case 6:case"end":return a.stop()}}),a)})))()},onSubscribeChange:function(t){var a=t.expiredDate,s=t.expiredResidue,e=t.leftFlow,i=t.planId,r=t.comboType;this.expiredDate=a,this.expiredResidue=s,this.comboType=r,this.leftFlow=e,this.planId=i},onBuySubs:function(){this.planId?this.$router.push("/stage/buysubs/order?id="+this.planId):this.$router.push("/stage/buysubs")},initFlowChart:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function a(){var s,e,i,n,o;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return window.conso1e.log(215),a.next=3,Object(g["a"])();case 3:if(s=a.sent,e=s.data,i=void 0===e?[]:e,t.chartData=i,0!==i.length){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,t.$nextTick();case 11:n=t.$refs.refChart,o=l["b"](n),o.setOption({tooltip:{trigger:"axis",formatter:function(t){return 0===t.length?"":t[0].name+"<br>"+t.map((function(t){return t.marker+t.seriesName+" "+E()(t.value)})).join("<br>")},axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:100,right:60,top:40,bottom:40},xAxis:{type:"category",boundaryGap:!1,data:i.map((function(t){return O.a.unix(t.record_at).format("YYYY-MM-DD")}))},yAxis:{type:"value",axisLabel:{formatter:function(t){return E()(t)}}},series:[{name:t.$t("上行"),data:i.map((function(t){return t.u})),type:"line",smooth:!0,showSymbol:!1,stack:"flow",areaStyle:{}},{name:t.$t("下行"),data:i.map((function(t){return t.d})),type:"line",smooth:!0,showSymbol:!1,stack:"flow",areaStyle:{}}]}),window.addEventListener("resize",(function(){o.resize()}),!1);case 15:case"end":return a.stop()}}),a)})))()}}},j=T,S=(s("00b8"),s("c56a"),s("2877")),D=Object(S["a"])(j,e,i,!1,null,"7e799d8f",null);a["default"]=D.exports},"1f51":function(t,a,s){"use strict";s.d(a,"a",(function(){return r}));var e=s("54d7"),i=s("8c8a");function r(){return Object(i["a"])({url:e["m"]+"/api/v1/user/stat/getTrafficLog",method:"get"})}},"427e":function(t,a,s){},c56a:function(t,a,s){"use strict";s("05aa")}}]);